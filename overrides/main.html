{% extends "base.html" %}
{% block extrahead %}
<link rel="stylesheet" href="{{ 'assets/stylesheets/custom.f7ec4df2.min.css' | url }}">
<style>
    .content-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .left-content {
        flex-grow: 1;
    }

    .right-content {
        color: #fff;
        text-align: right;
    }

    .center-container {
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 20px;
        text-align: center;
    }

    .floating-button {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background-color: #000;
        color: #fff;
        padding: 10px 20px;
        border-radius: 50px;
        display: flex;
        align-items: center;
        text-decoration: none;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: background-color 0.3s;
        cursor: pointer;
    }

    .floating-button img {
        margin-right: 8px;
        width: 24px;
        height: 24px;
    }

    .floating-button:hover {
        background-color: #333;
    }

    /* Community Chat button styling */
    .community-chat-button {
        position: fixed;
        bottom: 100px;
        /* Position above Ask AI button with padding */
        right: 30px;
        padding: 10px 20px;
        border-radius: 50px;
        display: flex;
        align-items: center;
        text-decoration: none;
        font-weight: bold;
        color: #000 !important;
        /* Black text color with !important to override any inheritance */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: background-color 0.3s;
        cursor: pointer;
    }

    /* Ensure the span inside also has black text */
    .community-chat-button span {
        color: #000 !important;
    }

    .community-chat-button:hover {
        opacity: 0.9;
    }

    /* Custom styling to hide reCAPTCHA badge */
    .grecaptcha-badge {
        visibility: hidden;
    }
</style>
{% endblock %}

{% block announce %}
<div class="content-container">
    <div class="left-content">
        <strong>Follow me</strong> on
        <a rel="me" href="https://www.linkedin.com/in/samapriya/">
            <span class="twemoji linkedin">
                {% include ".icons/fontawesome/brands/linkedin.svg" %}
            </span>
            <strong>LinkedIn</strong>
        </a>
        <a rel="me" href="https://www.github.com/samapriya/">
            <span class="twemoji github">
                {% include ".icons/fontawesome/brands/github.svg" %}
            </span>
            <strong>GitHub</strong>
        </a>
        <a href="https://datacommons.substack.com/">
            <span class="twemoji substack">
                {% include ".icons/simple/substack.svg" %}
            </span>
            <strong>Substack</strong>
        </a>
    </div>

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <div class="center-container">
        <strong>
            <a href="https://forum.gee-community-catalog.org" target="_blank">
                <span class="material-symbols-outlined" style="vertical-align: middle; font-size: 24px;">
                    forum
                </span>
                Join the GEE Community Forum
            </a>
        </strong>
    </div>

    <div class="right-content">
        Support
        <a rel="me" href="https://github.com/sponsors/samapriya">
            <span class="twemoji sponsor">
                {% include ".icons/octicons/sponsor-tiers-24.svg" %}
            </span>
            <strong>Sponsor</strong>
        </a>
    </div>
</div>
{% endblock %}

{% block content %}
{{ super() }}

<!-- Community Chat Button -->
<a href="https://forum.gee-community-catalog.org" class="community-chat-button" id="communityChatButton"
    target="_blank">
    <span>Community Chat</span>
</a>

<!-- Floating Button -->
<a href="https://gee-community-catalog.org/search" class="floating-button" id="searchRedirect" target="_blank">
    <img src="https://i.imgur.com/RJian8r.png" alt="Logo">
    <span>Ask AI</span>
</a>

{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ 'assets/javascripts/custom.a678ee80.min.js' | url }}"></script>
<script>
    // Google colors array - only blue, red, yellow, green
    const googleColors = [
        "#4285F4", // Google Blue
        "#DB4437", // Google Red
        "#F4B400", // Google Yellow
        "#0F9D58"  // Google Green
    ];

    // Set random color on page load
    document.addEventListener("DOMContentLoaded", function () {
        const communityChatButton = document.getElementById("communityChatButton");
        const randomColor = googleColors[Math.floor(Math.random() * googleColors.length)];
        communityChatButton.style.backgroundColor = randomColor;
    });
</script>
{% endblock %}
